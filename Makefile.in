PACKAGE = @PACKAGE@
VERSION = @VERSION@
utildir = @PUBRULE@
pubdir = @prefix@
srcdir = @srcdir@
applib = FDL
appname = @APPNAME@
localBuildRule = @LOCAL_BUILD_RULE@
TAR = tar
GZIP_ENV = --best

export pubdir utildir appname applib PACKAGE localBuildRule

SUBDIR= locale HTTPAPI_V1 

include $(utildir)/PubRule
include $(localBuildRule)/localBuildRule

# For all families traduction
# TRANSCSV += $(shell find ./Families -name "STRUCT_*.csv")

.PHONY: publish-unit-test webinst-unit-test webinst clean

publish-unit-test:
	make -C UnitTest publish RELEASE=$(RELEASE) PACKAGE=$(PACKAGE)-unit-test VERSION=$(VERSION) appname=HTTPAPI_V1_TEST

webinst-unit-test:
	make -C UnitTest webinst RELEASE=$(RELEASE) PACKAGE=$(PACKAGE)-unit-test VERSION=$(VERSION) appname=HTTPAPI_V1_TEST
	mv UnitTest/*.webinst .

webinst: webinst-unit-test

clean:
	/bin/rm -f *.*~ config.* Makefile configure $(appname)/$(appname)_init.php info.xml $(PACKAGE)-*.webinst
	/bin/rm UnitTest/info.xml
	/bin/rm -fr autom4te.cache
